hooks:
  getLicense:
    containerSecurityContext:
      enabled: true
      runAsNonRoot: true
      allowPrivilegeEscalation: false
      readOnlyRootFilesystem: true
      capabilities:
        drop:
        - ALL
      seccompProfile:
        type: RuntimeDefault
  # genSelfSigned:
  #   containerSecurityContext:
  #     enabled: true
  #     runAsNonRoot: true
  #     allowPrivilegeEscalation: false
  #     readOnlyRootFilesystem: true
  #     capabilities:
  #       drop:
  #       - ALL
  #     seccompProfile:
  #       type: RuntimeDefault

centralConfiguration:
  extraVolumes:
  - name: empty-dir
    emptyDir: {}
  extraVolumeMounts:
  - name: empty-dir
    mountPath: /tmp
    subPath: tmp-dir
  - name: empty-dir
    mountPath: /opt/xebialabs/central-configuration-server/log
    subPath: log-dir
  containerSecurityContext:
    enabled: true
    runAsNonRoot: true
    allowPrivilegeEscalation: false
    readOnlyRootFilesystem: true
    capabilities:
      drop:
      - ALL
    seccompProfile:
      type: RuntimeDefault
  # volumePermissions:
  #   enabled: true
  #   containerSecurityContext:
  #     allowPrivilegeEscalation: false
  #     readOnlyRootFilesystem: true
  #     runAsUser: 0
  #     runAsGroup: 0
  #     runAsNonRoot: false
  #     seccompProfile:
  #       type: RuntimeDefault
master:
  extraVolumes:
  - name: empty-dir
    emptyDir: {}
  extraVolumeMounts:
  - name: empty-dir
    mountPath: /tmp
    subPath: tmp-dir
  containerSecurityContext:
    enabled: true
    runAsNonRoot: true
    allowPrivilegeEscalation: false
    readOnlyRootFilesystem: true
    capabilities:
      drop:
      - ALL
    seccompProfile:
      type: RuntimeDefault
  # volumePermissions:
  #   enabled: true
  #   containerSecurityContext:
  #     allowPrivilegeEscalation: false
  #     readOnlyRootFilesystem: true
  #     runAsUser: 0
  #     runAsGroup: 0
  #     runAsNonRoot: false
  #     seccompProfile:
  #       type: RuntimeDefault
worker:
  extraVolumes:
  - name: empty-dir
    emptyDir: {}
  extraVolumeMounts:
  - name: empty-dir
    mountPath: /tmp
    subPath: tmp-dir
  containerSecurityContext:
    enabled: true
    runAsNonRoot: true
    allowPrivilegeEscalation: false
    readOnlyRootFilesystem: true
    capabilities:
      drop:
      - ALL
    seccompProfile:
      type: RuntimeDefault
  # volumePermissions:
  #   enabled: true
  #   containerSecurityContext:
  #     allowPrivilegeEscalation: false
  #     readOnlyRootFilesystem: true
  #     runAsUser: 0
  #     runAsGroup: 0
  #     runAsNonRoot: false
  #     seccompProfile:
  #       type: RuntimeDefault
postgresql:
  volumePermissions:
    containerSecurityContext:
      allowPrivilegeEscalation: false
      readOnlyRootFilesystem: true
      seLinuxOptions: {}
      runAsUser: 0
      runAsGroup: 0
      runAsNonRoot: false
      seccompProfile:
        type: RuntimeDefault
rabbitmq:
  containerSecurityContext:
    allowPrivilegeEscalation: false
    readOnlyRootFilesystem: true
    capabilities:
      drop:
      - ALL
    seccompProfile:
      type: RuntimeDefault
  volumePermissions:
    containerSecurityContext:
      allowPrivilegeEscalation: false
      readOnlyRootFilesystem: true
      runAsUser: 0
      runAsGroup: 0
      runAsNonRoot: false
      seccompProfile:
        type: RuntimeDefault